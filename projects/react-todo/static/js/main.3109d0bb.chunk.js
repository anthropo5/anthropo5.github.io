(window["webpackJsonpreact-todo"]=window["webpackJsonpreact-todo"]||[]).push([[0],{228:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(85),r=n.n(a),l=n(18),c=n(10),u=n(11),d=n(13),s=n(12),m=n(14),p=n(28);n(91);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}i.Component;var f={width:"400px"},v=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"notes"),o.a.createElement("p",{style:f},'Assume that todo "title" is unique value. There is no validation if it really is. In real world application it would be some unique ID from DB.'),o.a.createElement("p",null,"I focused only at logic. It is clean React solution. Please check the ",o.a.createElement("a",{href:"#",target:"_blank"},"source")),o.a.createElement("hr",null))},E=function(e){var t=e.item.description;return t.length>20&&(t=t.substring(0,20).concat("...[click to show]")),o.a.createElement("div",null,o.a.createElement("div",{onClick:function(){return e.onDescriptionClick(e.item)}},o.a.createElement("p",null,e.item.title),o.a.createElement("p",null,t)),o.a.createElement("button",{onClick:function(){return e.onRemoveClick(e.item.title)}},"remove"),o.a.createElement("button",{onClick:function(){e.onEditClick(e.item)}},"edit"),o.a.createElement("label",null,o.a.createElement("input",{onChange:function(){return e.onCheckboxClick(e.item)},type:"checkbox",checked:e.item.isDone}),"is done"))},g=function(e){var t=o.a.createElement("p",null,"List is empty");return e.todos&&(t=e.todos.map((function(t){return o.a.createElement(E,{key:t.title,item:t,onDescriptionClick:e.onItemDescriptionClick,onRemoveClick:e.onRemoveButtonClick,onCheckboxClick:e.onCheckboxClick,onEditClick:e.onEditButtonClick})}))),o.a.createElement("div",null,o.a.createElement("h2",null,"TODO List"),t)},k=function(e){var t=o.a.createElement("p",null,"select todo to show full description");return e.todo&&(t=o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,e.todo.title),o.a.createElement("p",null,e.todo.description))),o.a.createElement("div",null,t)},C=function(e){var t=null;switch(e.elementType){case"input":t=o.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=o.a.createElement("textarea",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed}));break;default:t=o.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value}))}var n=null;return e.invalid&&e.touched&&(n=e.errors.map((function(e,t){return o.a.createElement("p",{key:t},e)}))),o.a.createElement("div",null,n,o.a.createElement("label",null,e.label,t))};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={addForm:{title:{elementType:"input",elementConfig:{type:"text",placeholder:"Title"},validation:{required:!0,minLength:3,maxLength:10},valid:!1,touched:!1,errors:[],value:""},description:{elementType:"textarea",elementConfig:{type:"textarea",placeholder:"Description"},validation:{required:!1},valid:!0,touched:!1,errors:[],value:""}},isValid:!1,editing:null},n.isNewEditElement=function(){return n.state.editing!==n.props.toEdit},n.loadEditElementToForm=function(){var e=y({},n.state.addForm),t=y({},e.title),i=y({},e.description);t.value=n.props.toEdit.title,i.value=n.props.toEdit.description,e.title=t,e.description=i,n.setState({addForm:e,editing:n.props.toEdit})},n.inputChangedHandler=function(e,t){var i=y({},n.state.addForm),o=y({},i[t]);o.value=e.target.value,o.touched=!0,i[t]=o,n.checkValidity(o);var a=n.isFormValid(i);n.setState({addForm:i,isValid:a})},n.checkValidity=function(e){var t=e.validation,n=e.value;return e.valid=!0,e.errors=[],t.required&&""===n.trim()?(e.errors.push("Field is required"),e.valid=!1):(t.minLength&&n.length<t.minLength&&(e.errors.push("Min length is "+t.minLength),e.valid=!1),t.maxLength&&n.length>t.maxLength&&(e.errors.push("Max length is "+t.maxLength),e.valid=!1),e.valid)},n.isFormValid=function(e){var t=!0;for(var n in e)t=e[n].valid&&t;return t},n.onAddClick=function(e){e.preventDefault();var t=n.createTodo();n.props.onAddButtonClick(t),n.resetForm()},n.onUpdateClick=function(e){if(e.preventDefault(),n.props.toEdit){var t=n.props.toEdit,i=n.createTodo();n.props.onUpdateButtonClick(t,i),n.resetForm()}},n.resetForm=function(){n.setState({addForm:{title:{elementType:"input",elementConfig:{type:"text",placeholder:"Title"},validation:{required:!0,minLength:3,maxLength:10},valid:!1,touched:!1,errors:[],value:""},description:{elementType:"textarea",elementConfig:{type:"textarea",placeholder:"Description"},validation:{required:!1},valid:!0,touched:!1,errors:[],value:""}},isValid:!1,editing:null})},n.generateInputElements=function(){var e=[];for(var t in n.state.addForm)e.push({id:t,config:n.state.addForm[t]});return e.map((function(e){return n.generateInputElement(e)}))},n.generateInputElement=function(e){return o.a.createElement(C,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,changed:function(t){n.inputChangedHandler(t,e.id)},invalid:!e.config.valid,touched:e.config.touched,errors:e.config.errors})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){this.props.toEdit&&this.isNewEditElement()&&this.loadEditElementToForm()}},{key:"createTodo",value:function(){return{title:this.state.addForm.title.value,description:this.state.addForm.description.value,isDone:!1}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{action:""},this.generateInputElements(),o.a.createElement("button",{onClick:this.onAddClick,disabled:!this.state.isValid},"Add"),o.a.createElement("button",{onClick:this.onUpdateClick,disabled:!this.state.isValid},"Update")))}}]),t}(i.Component),w={width:"400px",margin:"0 auto"},j=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=Object(d.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={display:null,toEdit:null,todos:[{title:"redux",isDone:!1,description:"rewrite this app"},{title:"java",isDone:!1,description:"make super REST API app with Spring and React Redux front end"}]},n.onItemDescriptionClick=function(e){n.setItemToDisplay(e)},n.setItemToDisplay=function(e){n.setState({display:e})},n.onAddButtonClick=function(e){n.setState({todos:n.addTodoItem(e)})},n.addTodoItem=function(e){var t=Object(l.a)(n.state.todos);return t.push(e),t},n.onRemoveButtonClick=function(e){n.state.display&&n.state.display.title===e&&n.setItemToDisplay(null),n.setState({todos:n.removeTodo(e)})},n.removeTodo=function(e){return Object(l.a)(n.state.todos).filter((function(t){return t.title!==e}))},n.onCheckboxClick=function(e){n.setState({todos:n.toggleItemStatus(e)})},n.toggleItemStatus=function(e){var t=Object(l.a)(n.state.todos);return t.filter((function(t){return t.title===e.title})).map((function(t){return t.isDone=!e.isDone})),t},n.onEditButtonClick=function(e){n.setItemToEdit(e)},n.setItemToEdit=function(e){n.setState({toEdit:e})},n.onUpdateButtonClick=function(e,t){n.setState({todos:n.updateItem(e,t),toEdit:null})},n.updateItem=function(e,t){var i=Object(l.a)(n.state.todos);return i.filter((function(t){return t.title===e.title})).map((function(e){e.title=t.title,e.description=t.description})),i},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:w},o.a.createElement(v,null),o.a.createElement(g,{todos:this.state.todos,onItemDescriptionClick:this.onItemDescriptionClick,onRemoveButtonClick:this.onRemoveButtonClick,onEditButtonClick:this.onEditButtonClick,onCheckboxClick:this.onCheckboxClick}),o.a.createElement("hr",null),o.a.createElement(k,{todo:this.state.display}),o.a.createElement("hr",null),o.a.createElement("p",null,"new add"),o.a.createElement(O,{onAddButtonClick:this.onAddButtonClick,onUpdateButtonClick:this.onUpdateButtonClick,toEdit:this.state.toEdit}))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,n){e.exports=n(228)}},[[86,1,2]]]);
//# sourceMappingURL=main.3109d0bb.chunk.js.map